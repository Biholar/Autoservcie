@page "/addCustomerForm"
@using AutoService.Client.ViewModels
@using AutoService.WEBAPI.Dto
@inject CustomerViewModel _viewModel;
<div class="wrapper">
    <div class="input-group mb-3">
        <input @bind="Request.FirstName" type="text" class="form-control" placeholder="First Name"/>
    </div>

    <div class="input-group mb-3">
        <input @bind="Request.SecondName" type="text" class="form-control" placeholder="Second Name"/>
    </div>

    <div class="input-group mb-3">
        <input @bind="Request.PhoneNum" type="text" class="form-control" placeholder="Phone number"/>
    </div>

    <select @bind="Request.Gender" class="form-select form-control input-group mb-3" aria-label="Gender">
        <option selected>Gender</option>
        <option value="male">Male</option>
        <option value="female">Female</option>
        <option value="another">Another</option>
    </select>
    
    <div class="buttonWrapper ">
        <button type="button" @onclick="() => Submit()" style="width: 120px" class="btn btn-success">OK</button>
        <button type="button" @onclick="ModalInstance.CancelAsync" style="width: 120px" class="btn btn-danger">Cancel</button>
    </div>
</div>

@code
{
    [CascadingParameter]
    BlazoredModalInstance ModalInstance { get; set; }

    readonly CustomerDto Request = new();

    private async Task Submit()
    {
        await _viewModel.Create(Request);
        await ModalInstance.CloseAsync();
    }
}