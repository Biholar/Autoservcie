@page "/addServiceTypeForm"
@inject ServiceTypeViewModel _viewModel;
@using AutoService.WEBAPI.Dto
@using AutoService.Client.ViewModels
<div class="wrapper">
            <input @bind="Request.Name" type="text" class="form-control" style="margin-bottom: 20px" placeholder="Service Type name">
            <div class="input-group mb-3">
                <span class="input-group-text">UAH</span>
                <input @bind="Request.Price" type="number" class="form-control" placeholder="Price">
            </div>
            <div class="buttonWrapper ">
        <button type="button"@onclick="() => Submit()" style="width: 120px" class="btn btn-success">OK</button>
        <button type="button" @onclick="ModalInstance.CancelAsync" style="width: 120px" class="btn btn-danger">Cancel</button>
    </div>
</div>

@code
{
    [CascadingParameter] BlazoredModalInstance ModalInstance { get; set; }
    ServiceTypeDto Request = new ServiceTypeDto();

    private async Task Submit()
    {
        await _viewModel.Create(Request);
        ModalInstance.CloseAsync();
    }
}
